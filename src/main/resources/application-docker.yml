# Docker Profile Configuration
# Used when running in Docker container with MongoDB

spring:
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://admin:admin@mongodb:27017/private_dining?authSource=admin}
      database: private_dining
  autoconfigure:
    exclude:
      - de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration

# Logging Configuration
logging:
  level:
    com.opentable.privatedining: INFO
    org.springframework.data.mongodb: WARN
    org.mongodb.driver: WARN

# Server Configuration
server:
  port: 8080
  shutdown: graceful

# Actuator - expose more endpoints in Docker for health checks
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
  health:
    livenessState:
      enabled: true
    readinessState:
      enabled: true
